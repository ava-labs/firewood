[package]
name = "firewood"
version = "0.0.4"
edition = "2021"
authors = [
     "Ted Yin (@Determinant) <ted@avalabs.org>",
     "Dan Sover (@exdx) <dan.sover@avalabs.org>",
     "Hao Hao (@haohao-os) <hao.hao@avalabs.org>",
     "Gyuho Lee (@gyuho) <gyuho.lee@avalabs.org>",
     "Sam Batschelet (@hexfusion) <sam.batschelet@avalabs.org>",
     "Ron Kuris (@rkuris) <ron.kuris@avalabs.org>",
]
description = "Firewood is an embedded key-value store, optimized to store blockchain state."
license-file = "../LICENSE.md"
homepage = "https://avalabs.org"
readme = "../README.md"

[dependencies]
aquamarine = "0.5.0"
async-trait = "0.1.77"
storage = { version = "0.0.4", path = "../storage" }
futures = "0.3.30"
hex = "0.4.3"
metrics = "0.23.0"
serde = { version = "1.0" }
sha2 = "0.10.8"
thiserror = "1.0.57"
tokio = { version = "1.36.0", features = ["rt", "sync", "macros", "rt-multi-thread"] }
typed-builder = "0.20.0"
bincode = "1.3.3"
log = { version = "0.4.20", optional = true }
test-case = "3.3.1"
integer-encoding = "4.0.0"
io-uring = {version = "0.6", optional = true }

[features]
default = []
logger = ["log"]
nightly = []
iouring = ["io-uring"]

[dev-dependencies]
criterion = {version = "0.5.1", features = ["async_tokio"]}
rand = "0.8.5"
triehash = "0.8.4"
clap = { version = "4.5.0", features = ['derive'] }
pprof = { version = "0.13.0", features = ["flamegraph"] }
tempfile = "3.12.0"

[[bench]]
name = "hashops"
harness = false

[lints.clippy]
unwrap_used = "warn"
indexing_slicing = "warn"
explicit_deref_methods = "warn"
missing_const_for_fn = "warn"
